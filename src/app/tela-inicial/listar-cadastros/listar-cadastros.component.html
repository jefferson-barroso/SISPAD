<div class="background">
  <div class="card">
    <h2>Lista de Usuários</h2>

    <div class="p-inputgroup" style="margin-bottom: 1rem">
      <input
        pInputText
        type="text"
        placeholder="Pesquisar por nome"
        [(ngModel)]="filtroNome"
        (input)="pesquisar()"
      />
    </div>

    <p-table
      [value]="usuarios"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[5, 10, 20]"
      [responsiveLayout]="'scroll'"
      sortField="codUsuario"
      [sortOrder]="-1"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Ações</th>
          <th>Id</th>
          <th>Nome</th>
          <th>Status</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" class="body" let-usuario>
        <tr>
          <td>
            <button
              pButton
              type="button"
              class="btn-editar"
              (click)="editar(usuario)"
              title="Editar"
            >
              Editar
            </button>
            <button
              pButton
              type="button"
              class="btn-excluir"
              (click)="excluir(usuario.codUsuario)"
              title="Excluir"
            >
              Excluir
            </button>
          </td>
          <td>{{ usuario.codUsuario }}</td>
          <td>{{ usuario.txNome }}</td>
          <td>{{ usuario.stStatus === "A" ? "Ativo" : "Inativo" }}</td>
        </tr>
      </ng-template>
    </p-table>
    <br />
    <br />
    <button type="button" class="btn-voltar" (click)="voltar()">Voltar</button>

    <p-toast></p-toast>
    <p-confirmDialog></p-confirmDialog>
  </div>
</div>
